<%= title t :directors %>
<h1><%= t :directors %></h1>

<p>
  <%= link_to t(:new), new_director_path %>
</p>

<%= form_tag nil, :class => 'search-form' do %>
  <%= t :search %>
  <%= text_field_tag :search_field %>
<% end -%>

<div class="paginator">
  <%= paginate @directors %>
</div>

<table class="data_table">
  <tr>
    <th><%= t :name %> </th>
    <th colspan=2><%= t :options %> </th>
  </tr>
  <tbody id="results">
    <%= render :partial => @directors %>
  </tbody>
</table>

<%= paginate @directors %>

<script type="text/javascript" language="javascript" charset="utf-8">
// <![CDATA[
  $(document).ready(function(){
    // when the #search field changes
    $("#search_field").live('keyup', function() {
      // make a POST call and replace the content
      $.post('<%= url_for(:action => 'director_completion') %>/' + $("#search_field").val() , function(data) {
        $("#results").html(data);
      });
    });
  })
// ]]>
</script>

